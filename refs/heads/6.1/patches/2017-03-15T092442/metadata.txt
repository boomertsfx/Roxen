subject: Roxen 6.1: Avoid server stall when external replicate DB is down
from: b62e8f5c6548e63e60aa04c78f9679ade4df45c7
to: 5b313f1739451520cf6a31374e0e52942da6b5eb
originator: Marcus Wellhardh
depends: 2017-03-14T103448
restart: true

• Admin Interface [DB Browser]: Load configurations.

Make sure that the configuration is loaded before complaining
about its modules not being loaded ("deleted").

• DBManager: Reduce critical zones holding sq_cache_lock().

sq_cache_{get,set}() now use sq_cache_lock() themselves instead
of having it be the callers responsibility. This makes it possible
to reduce the critical zones and to move out some of the time-
consuming stuff (notably the testing of the validity of cached
SQL connections) from the critical zones.

Fixes [WS-28].